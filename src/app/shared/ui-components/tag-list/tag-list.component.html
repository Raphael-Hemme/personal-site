@if (isExpandable) {
  <ul 
    class="tag-list tag-list-first-row-in-collapsed-state" 
    [ngClass]="isDisplayedOnWhiteBg ? 'tag-list-white-bg' : ''"
  >
    @for (tagItem of summaryTagArr; track tagItem.name) {
    <li
      class="tag-item"
      [ngClass]="{
        'tag-selected': tagItem.isActive,
        'tag-disabled': tagItem.count < 1
      }"
      (click)="selectTag(tagItem)"
    >
      <span>{{ tagItem.name }}</span>
      @if (tagsDisplayMatchCount) {
      <span> | {{ tagItem.count }}</span>
      }
    </li>
    }
  </ul>


  <button 
    (click)="toggleIsExpanded()"
    class="btn-accent-flat"
    [ngClass]="isExpanded ? 'show-more-btn-invisible' : 'show-more-btn-visible'">
    show more
  </button>

  <div class="expand-list" [ngClass]="isExpanded ? 'expanded' : 'collapsed'">
    <ul 
      class="tag-list"
      [ngClass]="isDisplayedOnWhiteBg ? 'tag-list-white-bg' : ''"
    >
      @for (tagItem of detailTagArr; track tagItem.name) {
      <li
        class="tag-item"
        [ngClass]="{
          'tag-selected': tagItem.isActive,
          'tag-disabled': tagItem.count < 1
        }"
        (click)="selectTag(tagItem)"
      >
        <span>{{ tagItem.name }}</span>
        @if (tagsDisplayMatchCount) {
        <span> | {{ tagItem.count }}</span>
        }
      </li>
      }
    </ul>

    <button 
      (click)="toggleIsExpanded()"
      class="btn-accent-flat">
      show less
    </button>
  </div>
} 

@else {
  <ul 
    class="tag-list"
    [ngClass]="isDisplayedOnWhiteBg ? 'tag-list-white-bg' : ''"
  >
    @for (tagItem of tagArr; track tagItem.name) {
    <li
      class="tag-item"
      [ngClass]="{
        'tag-selected': tagItem.isActive,
        'tag-disabled': tagItem.count < 1
      }"
      (click)="selectTag(tagItem)"
    >
      <span>{{ tagItem.name }}</span>
      @if (tagsDisplayMatchCount) {
      <span> | {{ tagItem.count }}</span>
      }
    </li>
    }
  </ul>
}
@if (isExpandable) {
  <ul 
    class="tag-list" 
    [ngClass]="isDisplayedOnWhiteBg ? 'tag-list-white-bg' : ''"
  >
    @for (tagItem of summaryTagArr; track tagItem.name) {
    <li
      class="tag-item"
      [ngClass]="{
        'tag-selected': tagItem.isActive,
        'tag-disabled': tagItem.count < 1
      }"
      (click)="selectTag(tagItem)"
    >
      <span>{{ tagItem.name }}</span>
      @if (tagsDisplayMatchCount) {
      <span> | {{ tagItem.count }}</span>
      }
    </li>
    }
  </ul>

  <details>
    <summary>show more</summary>

    <ul 
      class="tag-list"
      [ngClass]="isDisplayedOnWhiteBg ? 'tag-list-white-bg' : ''"
    >
      @for (tagItem of detailTagArr; track tagItem.name) {
      <li
        class="tag-item"
        [ngClass]="{
          'tag-selected': tagItem.isActive,
          'tag-disabled': tagItem.count < 1
        }"
        (click)="selectTag(tagItem)"
      >
        <span>{{ tagItem.name }}</span>
        @if (tagsDisplayMatchCount) {
        <span> | {{ tagItem.count }}</span>
        }
      </li>
      }
    </ul>
  </details>
} @else {
  <ul 
    class="tag-list"
    [ngClass]="isDisplayedOnWhiteBg ? 'tag-list-white-bg' : ''"
  >
    @for (tagItem of tagArr; track tagItem.name) {
    <li
      class="tag-item"
      [ngClass]="{
        'tag-selected': tagItem.isActive,
        'tag-disabled': tagItem.count < 1
      }"
      (click)="selectTag(tagItem)"
    >
      <span>{{ tagItem.name }}</span>
      @if (tagsDisplayMatchCount) {
      <span> | {{ tagItem.count }}</span>
      }
    </li>
    }
  </ul>
}